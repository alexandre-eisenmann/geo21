<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" src="http://mbostock.github.com/d3/d3.js"></script>
    <script type="text/javascript" src="Complex.js"></script>
    <script type="text/javascript" src="Canvas.js"></script>
    <script type="text/javascript" src="Polygon.js"></script>
    <script type="text/javascript" src="Point.js"></script>
    <script type="text/javascript" src="Segment.js"></script>

</head>
<body>
<div id="viz"></div>
<style>
    body {
      background-color: white;
      margin:0px
    }
    svg {
      border-top: 1px dashed #CCCCCC;
      border-bottom: 1px dashed #CCCCCC;
      margin-top : 20px;
      background-color: #EEEEEE;
    }

</style>
<script type="text/javascript">

    var canvas = new Canvas(d3.select("body").append("svg").attr("width", "100%").attr("height", 600));
    var context = canvas.context();
    var svg = d3.select("svg");

    var cutButton = svg.append("g")
      .attr("id", "cutButton")
      .attr("transform","translate(10,10)")

    cutButton.append("rect")
      .attr("width", 50)
      .attr("height", 30).on('click', function() {
        if (context.cutLine) {
            canvas.split(context.cutLine);
            context.cutLine = null;
        }
    });

    cutButton.append("text")
        .attr("x", 8)
        .attr("y", 15)
        .attr("dy", ".35em")
        .attr("fill","white")
        .text("CUT").on('click', function() {
          if (context.cutLine) {
              canvas.split(context.cutLine);
              context.cutLine = null;
          }
      });







   var s1 = new Segment(canvas, new Point(100,15), new Point(150,15), true);

//   var p1 = new Polygon(canvas,[ { "x": 100,   "y": 100},  { "x": 200,  "y": 200},  { "x": 100,  "y": 300},  { "x": 100,  "y": 100} ],"#FFCCCC");

//   var p2 = new Polygon(canvas,[ { "x": 100,   "y": 300},  { "x": 200,  "y": 300},  { "x": 200,  "y": 500},  { "x": 100,  "y": 500}, { "x": 100,  "y": 300} ],"green");
   var p3 = new Polygon(canvas,[ { "x": 100,   "y": 100},  { "x": 500,  "y": 100},  { "x": 500,  "y": 500},  { "x": 100,  "y": 500}, { "x": 100,  "y": 100} ],"green");


  //  new Polygon(canvas,[ { "x": 400,   "y": 400},  { "x": 500,  "y": 300},  { "x": 300,  "y": 800},  { "x": 400,  "y": 400} ],"blue");

    </script>
</body>
</html>
